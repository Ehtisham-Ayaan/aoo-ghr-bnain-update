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