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