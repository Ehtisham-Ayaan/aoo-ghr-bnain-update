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