{"ast":null,"code":"import _regeneratorRuntime from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{CardElement,useElements,useStripe}from\"@stripe/react-stripe-js\";import Button from\"@material-ui/core/Button\";import{ids,setId}from\"../auth/signup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CARD_OPTIONS={iconStyle:\"solid\",style:{base:{iconColor:\"#c4f0ff\",color:\"#fff\",fontWeight:500,fontFamily:\"Roboto, Open Sans, Segoe UI, sans-serif\",fontSize:\"16px\",fontSmoothing:\"antialiased\",\":-webkit-autofill\":{color:\"#fce883\"},\"::placeholder\":{color:\"#87bbfd\"}},invalid:{iconColor:\"#ffc7ee\",color:\"#ffc7ee\"}}};export default function PaymentForm(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),success=_React$useState2[0],setSuccess=_React$useState2[1];var stripe=useStripe();var element=useElements();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$stripe$createP,error,paymentMethod,id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return stripe.createPaymentMethod({type:\"card\",card:element.getElement(CardElement)});case 3:_yield$stripe$createP=_context.sent;error=_yield$stripe$createP.error;paymentMethod=_yield$stripe$createP.paymentMethod;if(!error){try{id=paymentMethod.id;setId(id);console.log(id);console.log(ids);}catch(error){console.log(error);}}case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:!success?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"fieldset\",{className:\"FormGroup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"FormRow\",children:/*#__PURE__*/_jsx(CardElement,{options:CARD_OPTIONS})})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"PAY\"})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(_Fragment,{children:\"Subscribed\"})})});}","map":{"version":3,"sources":["F:/Aoo-Ghr-Bnain-Client/src/components/PaymentForm.js"],"names":["React","CardElement","useElements","useStripe","Button","ids","setId","CARD_OPTIONS","iconStyle","style","base","iconColor","color","fontWeight","fontFamily","fontSize","fontSmoothing","invalid","PaymentForm","useState","success","setSuccess","stripe","element","handleSubmit","e","preventDefault","createPaymentMethod","type","card","getElement","error","paymentMethod","id","console","log"],"mappings":"2TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,CAAsBC,WAAtB,CAAoCC,SAApC,KAAqD,yBAArD,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAAQC,GAAR,CAAcC,KAAd,KAA0B,gBAA1B,C,6IAGA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,SAAS,CAAE,OADM,CAEjBC,KAAK,CAAE,CACLC,IAAI,CAAE,CACJC,SAAS,CAAE,SADP,CAEJC,KAAK,CAAE,MAFH,CAGJC,UAAU,CAAE,GAHR,CAIJC,UAAU,CAAE,yCAJR,CAKJC,QAAQ,CAAE,MALN,CAMJC,aAAa,CAAE,aANX,CAOJ,oBAAsB,CAACJ,KAAK,CAAG,SAAT,CAPlB,CAQJ,gBAAkB,CAACA,KAAK,CAAG,SAAT,CARd,CADD,CAYJK,OAAO,CAAE,CACPN,SAAS,CAAE,SADJ,CAEPC,KAAK,CAAE,SAFA,CAZL,CAFU,CAArB,CAuBE,cAAe,SAASM,CAAAA,WAAT,EAAsB,qBACJlB,KAAK,CAACmB,QAAN,CAAe,KAAf,CADI,oDAC5BC,OAD4B,qBAClBC,UADkB,qBAInC,GAAMC,CAAAA,MAAM,CAAGnB,SAAS,EAAxB,CACA,GAAMoB,CAAAA,OAAO,CAAGrB,WAAW,EAA3B,CAEA,GAAMsB,CAAAA,YAAY,0FAAI,iBAAOC,CAAP,mKAClBA,CAAC,CAACC,cAAF,GADkB,sBAEmBJ,CAAAA,MAAM,CAACK,mBAAP,CAA2B,CAC5DC,IAAI,CAAE,MADsD,CAE5DC,IAAI,CAAEN,OAAO,CAACO,UAAR,CAAmB7B,WAAnB,CAFsD,CAA3B,CAFnB,4CAEX8B,KAFW,uBAEXA,KAFW,CAEJC,aAFI,uBAEJA,aAFI,CASpB,GAAG,CAACD,KAAJ,CAAW,CACT,GAAG,CACME,EADN,CACYD,aADZ,CACMC,EADN,CAED3B,KAAK,CAAC2B,EAAD,CAAL,CACCC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACAC,OAAO,CAACC,GAAR,CAAY9B,GAAZ,EAEF,OAAM0B,KAAN,CAAY,CACTG,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACH,CACF,CAnBmB,sDAAJ,kBAAZP,CAAAA,YAAY,4CAAlB,CAsBJ,mBACI,yBACC,CAACJ,OAAD,cACD,cAAM,QAAQ,CAAEI,YAAhB,wBACI,iBAAU,SAAS,CAAC,WAApB,uBACJ,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,WAAD,EAAa,OAAO,CAAEjB,YAAtB,EADF,EADI,EADJ,cASJ,eAAQ,OAAO,CAAEiB,YAAjB,iBATI,GADC,cAcD,kCACI,uCADJ,EAfA,EADJ,CAsBC","sourcesContent":["import React from \"react\";\r\nimport {CardElement , useElements , useStripe } from \"@stripe/react-stripe-js\"\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {ids , setId} from \"../auth/signup\"\r\n\r\n\r\nconst CARD_OPTIONS = {\r\n    iconStyle: \"solid\",\r\n    style: {\r\n      base: {\r\n        iconColor: \"#c4f0ff\",\r\n        color: \"#fff\",\r\n        fontWeight: 500,\r\n        fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\r\n        fontSize: \"16px\",\r\n        fontSmoothing: \"antialiased\",\r\n        \":-webkit-autofill\" : {color : \"#fce883\"},\r\n        \"::placeholder\" : {color : \"#87bbfd\"}\r\n  \r\n       },\r\n       invalid: {\r\n         iconColor: \"#ffc7ee\",\r\n         color: \"#ffc7ee\"\r\n       }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export default function PaymentForm(){\r\n    const [success , setSuccess] = React.useState(false);\r\n    \r\n\r\n    const stripe = useStripe();\r\n    const element = useElements();\r\n\r\n    const handleSubmit  = async (e) =>{\r\n        e.preventDefault();\r\n        const {error, paymentMethod} = await stripe.createPaymentMethod({\r\n            type: \"card\",\r\n            card: element.getElement(CardElement)\r\n          })\r\n          \r\n        \r\n        \r\n      if(!error) {\r\n        try{\r\n          const {id} = paymentMethod\r\n          setId(id);\r\n           console.log(id)\r\n           console.log(ids)\r\n\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n      }\r\n    }\r\n        \r\nreturn (\r\n    <>\r\n    {!success ?\r\n    <form onSubmit={handleSubmit}>\r\n        <fieldset className=\"FormGroup\">\r\n    <div className=\"FormRow\">\r\n      <CardElement options={CARD_OPTIONS}/>\r\n\r\n    </div>\r\n\r\n</fieldset>\r\n\r\n<button onClick={handleSubmit}>PAY</button>\r\n</form> \r\n : \r\n\r\n    <div>\r\n        <>Subscribed</>\r\n        </div>} \r\n    </>\r\n)\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}