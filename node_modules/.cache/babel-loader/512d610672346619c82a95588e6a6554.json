{"ast":null,"code":"import GenericServices from \"./GenericServices\";\nimport jwt_decode from \"jwt-decode\";\n\nclass userServices extends GenericServices {\n  constructor(...args) {\n    super(...args);\n\n    this.login = (userName, password) => new Promise((resolve, reject) => {\n      console.log(userName, password);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/auth\", {\n        userName,\n        password\n      }).then(token => {\n        localStorage.setItem(\"token\", token);\n        resolve(token);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.register = (username, email, password, role, amount, ids) => new Promise((resolve, reject) => {\n      console.log(amount);\n      console.log(ids);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/register\", {\n        username,\n        email,\n        password,\n        role,\n        amount,\n        ids\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.handleToken = token => new Promise((resolve, reject) => {\n      console.log(token);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/mycheckout\", {\n        token\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.contact = (username, email, query) => new Promise((resolve, reject) => {\n      console.log(username);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/contact\", {\n        username,\n        email,\n        query\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.save = (name, elements, width, height, totalLayer, id) => new Promise((resolve, reject) => {\n      var data = JSON.stringify(elements);\n      console.log(width);\n      console.log(height);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/save\", {\n        name,\n        data,\n        width,\n        height,\n        totalLayer,\n        id\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.update = (sketchId, elements, width, height, totalLayer, id) => new Promise((resolve, reject) => {\n      var data = JSON.stringify(elements);\n      console.log(id);\n      console.log(height);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/update\", {\n        sketchId,\n        data,\n        width,\n        height,\n        totalLayer,\n        id\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.change = (sub, role) => new Promise((resolve, reject) => {\n      console.log(role);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/change\", {\n        sub,\n        role\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.updatePass = (email, password, role) => new Promise((resolve, reject) => {\n      console.log(email);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/updatePass\", {\n        email,\n        password,\n        role\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.getSketch = id => new Promise((resolve, reject) => {\n      console.log(id);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/getSketch\", {\n        id\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.delSketch = id => new Promise((resolve, reject) => {\n      console.log(id);\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/delSketch\", {\n        id\n      }).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n\n    this.isLoggedin = localStorage.getItem(\"token\") ? true : false;\n\n    this.logout = () => {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"token2\");\n      window.location.href = \"/\";\n    };\n\n    this.getLoggedinfo = () => {\n      try {\n        let jwt = localStorage.getItem(\"token\");\n        var decode = jwt_decode(jwt);\n        return decode;\n      } catch (error) {\n        console.log(\"error\");\n      }\n    };\n\n    this.isAdmin = () => {\n      if (this.isLoggedIn) {\n        if (this.getLoggedinfo().role === \"admin\") return true;else return false;\n      } else return false;\n    };\n  }\n\n}\n\nlet UserServices = new userServices();\nexport default UserServices;","map":{"version":3,"sources":["E:/aoo-ghr-bnain-update/src/services/UserServices.js"],"names":["GenericServices","jwt_decode","userServices","login","userName","password","Promise","resolve","reject","console","log","post","then","token","localStorage","setItem","catch","err","register","username","email","role","amount","ids","res","handleToken","contact","query","save","name","elements","width","height","totalLayer","id","data","JSON","stringify","update","sketchId","change","sub","updatePass","getSketch","delSketch","isLoggedin","getItem","logout","removeItem","window","location","href","getLoggedinfo","jwt","decode","error","isAdmin","isLoggedIn","UserServices"],"mappings":"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","sourcesContent":["import GenericServices from \"./GenericServices\";\r\nimport jwt_decode from \"jwt-decode\";\r\nclass userServices extends GenericServices {\r\n\r\n\r\n\r\n  login = (userName, password) =>\r\n\r\n    new Promise((resolve, reject) => {\r\n\r\n      console.log(userName , password);\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/auth\", { userName, password })\r\n        .then((token) => {\r\n          localStorage.setItem(\"token\", token);\r\n          resolve(token);\r\n         \r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n  register = (username, email, password , role , amount, ids) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n\r\n      console.log(amount)\r\n      console.log(ids)\r\n\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/register\", { username, email, password , role , amount, ids })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    handleToken = (token) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n\r\n      console.log(token)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/mycheckout\", { token })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    contact = (username, email, query) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n\r\n      console.log(username)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/contact\", { username, email, query })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    save = (name , elements ,width , height, totalLayer , id) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n      var data = JSON.stringify(elements);\r\n\r\n      console.log(width)\r\n\r\n      console.log(height)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/save\", { name , data ,width , height,totalLayer, id })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  \r\n     update = (sketchId , elements ,width , height, totalLayer , id) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n      var data = JSON.stringify(elements);\r\n\r\n      console.log(id)\r\n\r\n      console.log(height)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/update\", { sketchId , data ,width , height,totalLayer, id })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    change = (sub , role) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n      console.log(role)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/change\", { sub , role })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    updatePass = (email, password, role) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n      console.log(email)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/updatePass\", { email, password , role })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    \r\n\r\n    getSketch = (id) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n      console.log(id)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/getSketch\", { id })\r\n        .then((res) => {\r\n          resolve(res);\r\n        \r\n          \r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    delSketch = (id) =>\r\n    new Promise((resolve, reject) => {\r\n\r\n      console.log(id)\r\n\r\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/delSketch\", { id })\r\n        .then((res) => {\r\n          resolve(res);\r\n        \r\n          \r\n        })  \r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n    isLoggedin = localStorage.getItem(\"token\") ? true : false;\r\n\r\n  logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"token2\");\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  getLoggedinfo = () => {\r\n    try {\r\n      let jwt = localStorage.getItem(\"token\");\r\n      var decode = jwt_decode(jwt);\r\n      return decode;\r\n    } catch (error) {\r\n      console.log(\"error\");\r\n    }\r\n  };\r\n\r\n  \r\n  isAdmin = () => {\r\n    if (this.isLoggedIn) {\r\n      if (this.getLoggedinfo().role === \"admin\") return true;\r\n      else return false;\r\n    } else return false;\r\n  };\r\n}\r\n\r\nlet UserServices = new userServices();\r\nexport default UserServices;\r\n"]},"metadata":{},"sourceType":"module"}