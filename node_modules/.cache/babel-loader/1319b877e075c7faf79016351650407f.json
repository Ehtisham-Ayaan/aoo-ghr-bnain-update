{"ast":null,"code":"import { saveAs } from 'file-saver';\nimport myVar, { saveLayer } from '../sketch';\nimport { jsPDF } from \"jspdf\";\nimport rough from 'roughjs/bundled/rough.esm';\nimport { useState } from 'react';\nexport function HandleSave() {\n  saveLayer();\n  const canvas = document.getElementById(\"canvas\");\n  const context = canvas.getContext('2d');\n  const canvas2 = document.getElementById(\"canvas2\");\n  const ctx = canvas2.getContext('2d');\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = \"black\";\n  ctx.font = \"bold 16px Arial\";\n  ctx.fillText(\"Aoo Ghr Bnain\", canvas2.width / 2 - 17, canvas2.height / 2 + 8); // canvas.toBlob(function (blob) {\n  //     saveAs(blob, \"pretty image.png\")\n  // });\n\n  console.log(myVar.length);\n  var doc = new jsPDF('p', 'mm'); // for(var k = 0; k < myVar.length; k++) {\n  //     var Data = myVar[k];\n  //     for(var m = 0; m < Data.length; m++) {\n  //         // ctx.clearRect(0, 0, canvas.width, canvas.height);\n  //         // const roughCanvas = rough.canvas(canvas2);\n  //         // Data[m].forEach(({roughElement}) => roughCanvas.draw(roughElement));\n  //         // var imgData =  canvas2.toDataURL(\n  //         //     'image/png');          \n  //         // doc.addImage(imgData, 'PNG', 10, 10);\n  //         // estimatess1total = estimatess1total + (Math.abs((Data[m].x2-Data[m].x1))  / 15.36);\n  //         // estimatess2total = estimatess2total + (Math.abs((Data[m].y2-Data[m].y1))  / 15.36);\n  //     }\n  // }\n\n  const roughCanvas = rough.canvas(canvas2);\n  myVar[0].forEach(({\n    roughElement\n  }) => roughCanvas.draw(roughElement));\n  var imgData = canvas2.toDataURL('image/png');\n  doc.addImage(imgData, 'PNG', 10, 10);\n  doc.save('sample-file.pdf'); // doc.text(\"Hello world!\", 10, 10);\n  // doc.save(\"a4.pdf\");\n\n  alert(\"File Save Successfully\"); // //\n  //\n  // const writeJsonFile = require('write-json-file');\n  // const jsonFile = \"/tmp/exampleFile.json\";\n  // writeJsonFile(jsonFile,{canvas:true}).catch(err => console.log(err));\n  //\n}\n_c = HandleSave;\n\nvar _c;\n\n$RefreshReg$(_c, \"HandleSave\");","map":{"version":3,"sources":["C:/Users/alpha/OneDrive/myapp/client/src/sketchHelper/handleSave.js"],"names":["saveAs","myVar","saveLayer","jsPDF","rough","useState","HandleSave","canvas","document","getElementById","context","getContext","canvas2","ctx","clearRect","width","height","fillStyle","font","fillText","console","log","length","doc","roughCanvas","forEach","roughElement","draw","imgData","toDataURL","addImage","save","alert"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,YAArB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAgC,WAAhC;AACA,SAASC,KAAT,QAAsB,OAAtB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,SAAQC,QAAR,QAAuB,OAAvB;AAIA,OAAO,SAASC,UAAT,GAAsB;AAEzBJ,EAAAA,SAAS;AAET,QAAMK,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AACA,QAAMC,OAAO,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAhB;AAEA,QAAMC,OAAO,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB;AACA,QAAMI,GAAG,GAAID,OAAO,CAACD,UAAR,CAAmB,IAAnB,CAAb;AAEAE,EAAAA,GAAG,CAACC,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBP,MAAM,CAACQ,KAA3B,EAAkCR,MAAM,CAACS,MAAzC;AAEAH,EAAAA,GAAG,CAACI,SAAJ,GAAgB,OAAhB;AACAJ,EAAAA,GAAG,CAACK,IAAJ,GAAW,iBAAX;AACAL,EAAAA,GAAG,CAACM,QAAJ,CAAa,eAAb,EAAgCP,OAAO,CAACG,KAAR,GAAgB,CAAjB,GAAsB,EAArD,EAA0DH,OAAO,CAACI,MAAR,GAAiB,CAAlB,GAAuB,CAAhF,EAdyB,CAgBzB;AACA;AAEA;;AAEAI,EAAAA,OAAO,CAACC,GAAR,CAAYpB,KAAK,CAACqB,MAAlB;AAGA,MAAIC,GAAG,GAAG,IAAIpB,KAAJ,CAAU,GAAV,EAAe,IAAf,CAAV,CAxByB,CAyBjB;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAIA;AACA;AAEA;AAEA;;AAIA,QAAMqB,WAAW,GAAGpB,KAAK,CAACG,MAAN,CAAaK,OAAb,CAApB;AACAX,EAAAA,KAAK,CAAC,CAAD,CAAL,CAASwB,OAAT,CAAiB,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAoBF,WAAW,CAACG,IAAZ,CAAiBD,YAAjB,CAArC;AAEA,MAAIE,OAAO,GAAIhB,OAAO,CAACiB,SAAR,CACX,WADW,CAAf;AAGAN,EAAAA,GAAG,CAACO,QAAJ,CAAaF,OAAb,EAAsB,KAAtB,EAA6B,EAA7B,EAAiC,EAAjC;AAEAL,EAAAA,GAAG,CAACQ,IAAJ,CAAS,iBAAT,EA5DiB,CA6DjB;AACA;;AAERC,EAAAA,KAAK,CAAC,wBAAD,CAAL,CAhEyB,CAiEzB;AACA;AACA;AACA;AACA;AACA;AAKH;KA3Ee1B,U","sourcesContent":["import {saveAs} from 'file-saver';\nimport myVar , {saveLayer} from '../sketch';\nimport { jsPDF } from \"jspdf\";\nimport rough from 'roughjs/bundled/rough.esm';\nimport {useState} from 'react'\n\n\n\nexport function HandleSave() {\n\n    saveLayer();\n\n    const canvas = document.getElementById(\"canvas\");\n    const context = canvas.getContext('2d');\n\n    const canvas2 = document.getElementById(\"canvas2\");\n    const ctx  = canvas2.getContext('2d');\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    ctx.fillStyle = \"black\";\n    ctx.font = \"bold 16px Arial\";\n    ctx.fillText(\"Aoo Ghr Bnain\" , (canvas2.width / 2) - 17, (canvas2.height / 2) + 8);\n\n    // canvas.toBlob(function (blob) {\n    //     saveAs(blob, \"pretty image.png\")\n\n    // });\n\n    console.log(myVar.length)\n\n    \n    var doc = new jsPDF('p', 'mm');\n            // for(var k = 0; k < myVar.length; k++) {\n\n            //     var Data = myVar[k];\n\n            //     for(var m = 0; m < Data.length; m++) {\n\n            //         // ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n            //         // const roughCanvas = rough.canvas(canvas2);\n            //         // Data[m].forEach(({roughElement}) => roughCanvas.draw(roughElement));\n\n            //         // var imgData =  canvas2.toDataURL(\n            //         //     'image/png');          \n                    \n            //         // doc.addImage(imgData, 'PNG', 10, 10);\n                    \n                \n\n            //         // estimatess1total = estimatess1total + (Math.abs((Data[m].x2-Data[m].x1))  / 15.36);\n            //         // estimatess2total = estimatess2total + (Math.abs((Data[m].y2-Data[m].y1))  / 15.36);\n\n            //     }\n\n            // }\n\n            \n\n            const roughCanvas = rough.canvas(canvas2);\n            myVar[0].forEach(({roughElement}) => roughCanvas.draw(roughElement));\n\n            var imgData =  canvas2.toDataURL(\n                'image/png');          \n            \n            doc.addImage(imgData, 'PNG', 10, 10);\n            \n            doc.save('sample-file.pdf');\n            // doc.text(\"Hello world!\", 10, 10);\n            // doc.save(\"a4.pdf\");\n\n    alert(\"File Save Successfully\");\n    // //\n    //\n    // const writeJsonFile = require('write-json-file');\n    // const jsonFile = \"/tmp/exampleFile.json\";\n    // writeJsonFile(jsonFile,{canvas:true}).catch(err => console.log(err));\n    //\n\n\n\n\n}\n"]},"metadata":{},"sourceType":"module"}