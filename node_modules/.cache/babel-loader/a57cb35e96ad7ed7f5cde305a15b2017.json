{"ast":null,"code":"import _slicedToArray from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Avatar from\"@material-ui/core/Avatar\";import Box from\"@material-ui/core/Box\";import Button from\"@material-ui/core/Button\";import Checkbox from\"@material-ui/core/Checkbox\";import Container from\"@material-ui/core/Container\";import CssBaseline from\"@material-ui/core/CssBaseline\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import Grid from\"@material-ui/core/Grid\";import Link from\"@material-ui/core/Link\";import{makeStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import Typography from\"@material-ui/core/Typography\";import LockOutlinedIcon from\"@material-ui/icons/LockOutlined\";import React from\"react\";import{toast}from\"react-toastify\";import UserServices from\"../services/UserServices\";import PasswordStrengthBar from'react-password-strength-bar';import StripeCheckout from\"react-stripe-checkout\";import axios from\"axios\";import{Elements}from'@stripe/react-stripe-js';import{loadStripe}from\"@stripe/stripe-js\";import PaymentForm from\"../components/PaymentForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ids,setId;export{ids,setId};var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)}};});var PUBLIC_KEY=\"pk_test_51IorIIJmpNZTNdrVSyS2DzXf6i1NSsowyVHM90rIurlyXK9SXfLKq8rMb4ppoc0zPhcnLff6kUKuOXB90Uy9FyG100kml35YcH\";var stripeTestPromise=loadStripe(PUBLIC_KEY);export default function SignUp(){var classes=useStyles();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),email=_React$useState4[0],setEmail=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];var _React$useState7=React.useState(null);var _React$useState8=_slicedToArray(_React$useState7,2);ids=_React$useState8[0];setId=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),token=_React$useState10[0],setToken=_React$useState10[1];function handleToken(token,addresses){toast.error(\"This Function will work properly on online server\",{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setToken(true);new Promise(function(resolve,reject){console.log(token);axios.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/mycheckout\",{token:token}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});// this.post(\"http://localhost:5000/register\", { username, email, password , role})\n//     .then((res) => {\n//       resolve(res);\n//     })  \n//     .catch((err) => {\n//       reject(err);\n//     });\n// console.log(handleToken)\n// const { status } = response.data;\n// console.log(\"Response:\", response.data);\n// if (status === \"success\") {\n//   toast(\"Success! Check email for details\", { type: \"success\" });\n// } else {\n//   toast(\"Something went wrong\", { type: \"error\" });\n// }\n}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{autoComplete:\"name\",name:\"name\",variant:\"outlined\",required:true,fullWidth:true,id:\"firstName\",label:\"Full Name\",autoFocus:true,value:name,onChange:function onChange(e){setName(e.target.value);},onKeyPress:function onKeyPress(event){if(event.key==='Enter'){document.getElementById('save').click();}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",type:\"email\",autoComplete:\"email\",value:email,onChange:function onChange(e){setEmail(e.target.value);},onKeyPress:function onKeyPress(event){if(event.key==='Enter'){document.getElementById('save').click();}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:function onChange(e){setPassword(e.target.value);},onKeyPress:function onKeyPress(event){if(event.key==='Enter'){document.getElementById('save').click();}}})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(PasswordStrengthBar,{password:password}),/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Elements,{stripe:stripeTestPromise,children:/*#__PURE__*/_jsx(PaymentForm,{})})}),ids==null?/*#__PURE__*/_jsx(Button,{disabled:true,id:\"save\",fullWidth:true,className:classes.submit,variant:\"contained\",color:\"primary\",onClick:function onClick(e){UserServices.register(name,email,password,\"user\").then(function(data){console.log(data);toast.success(data,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});window.location.href=\"/login\";}).catch(function(err){toast.error(err.response.data,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});});},children:\"Sign Up\"}):/*#__PURE__*/_jsx(Button,{id:\"save\",fullWidth:true,className:classes.submit,variant:\"contained\",color:\"primary\",onClick:function onClick(e){UserServices.register(name,email,password,\"user\",100,ids).then(function(data){console.log(data);toast.success(data,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});window.location.href=\"/login\";}).catch(function(err){toast.error(err.response.data,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});});},children:\"Sign Up\"}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"flex-end\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/login\",variant:\"body2\",children:\"Already have an account? Sign in\"})})})]})]})]});}","map":{"version":3,"sources":["F:/Aoo-Ghr-Bnain-Client/src/auth/signup.js"],"names":["Avatar","Box","Button","Checkbox","Container","CssBaseline","FormControlLabel","Grid","Link","makeStyles","TextField","Typography","LockOutlinedIcon","React","toast","UserServices","PasswordStrengthBar","StripeCheckout","axios","Elements","loadStripe","PaymentForm","ids","setId","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","PUBLIC_KEY","stripeTestPromise","SignUp","classes","useState","name","setName","email","setEmail","password","setPassword","token","setToken","handleToken","addresses","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Promise","resolve","reject","console","log","post","then","res","catch","err","e","target","value","event","key","document","getElementById","click","register","data","success","window","location","href","response"],"mappings":"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","sourcesContent":["import Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Link from \"@material-ui/core/Link\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport UserServices from \"../services/UserServices\";\nimport PasswordStrengthBar from 'react-password-strength-bar';\nimport StripeCheckout from \"react-stripe-checkout\";\nimport axios from \"axios\";\n\n\nimport { Elements } from '@stripe/react-stripe-js'\nimport { loadStripe } from \"@stripe/stripe-js\"\n\nimport PaymentForm from \"../components/PaymentForm\"\n\nlet ids, setId;\n\nexport {ids , setId};\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\n\n\nconst PUBLIC_KEY = \"pk_test_51IorIIJmpNZTNdrVSyS2DzXf6i1NSsowyVHM90rIurlyXK9SXfLKq8rMb4ppoc0zPhcnLff6kUKuOXB90Uy9FyG100kml35YcH\"\nconst stripeTestPromise = loadStripe(PUBLIC_KEY)\n\nexport default function SignUp() {\n  const classes = useStyles();\n  const [name, setName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  [ids, setId] = React.useState(null)\n\n\n\n\n\n  const [token , setToken] = React.useState(false);\n\n  \n  \n  \n \n\n\n\n\n\n  function handleToken(token, addresses) {\n\n      toast.error(\"This Function will work properly on online server\", {\n      position: \"bottom-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n          });\n\n\n      setToken(true)\n\n    new Promise((resolve, reject) => {\n\n      console.log(token)\n\n    axios.post(\n      \"https://aoo-ghr-bnain-fyp.herokuapp.com/mycheckout\",\n      { token }\n    ).then((res)=>{\n      resolve(res)\n    })\n    .catch((err)=>{\n      reject(err)\n    });\n  });\n\n\n\n    // this.post(\"http://localhost:5000/register\", { username, email, password , role})\n    //     .then((res) => {\n    //       resolve(res);\n    //     })  \n    //     .catch((err) => {\n    //       reject(err);\n    //     });\n\n    // console.log(handleToken)\n\n\n\n    // const { status } = response.data;\n    // console.log(\"Response:\", response.data);\n    // if (status === \"success\") {\n    //   toast(\"Success! Check email for details\", { type: \"success\" });\n    // } else {\n    //   toast(\"Something went wrong\", { type: \"error\" });\n    // }\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                autoComplete=\"name\"\n                name=\"name\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"Full Name\"\n                autoFocus\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value);\n                }}\n                onKeyPress={event => {\n                  if (event.key === 'Enter') {\n                document.getElementById('save').click();\n                  }\n              }}\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                value={email}\n                onChange={(e) => {\n                  setEmail(e.target.value);\n                }}\n                onKeyPress={event => {\n                  if (event.key === 'Enter') {\n                document.getElementById('save').click();\n                  }\n              }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n\n                  \n                }}\n                onKeyPress={event => {\n                  if (event.key === 'Enter') {\n                document.getElementById('save').click();\n                  }\n              }}\n              />\n            </Grid>\n          </Grid>\n                  <br></br>\n          <PasswordStrengthBar password={password} />\n<Grid>\n\n\n  <Elements stripe = {stripeTestPromise}>\n    \n              <PaymentForm/>\n  </Elements>\n  \n\n</Grid>\n          \n\n        {ids == null ? ( \n        \n        <Button\n            disabled\n          id = \"save\"\n            fullWidth\n            className={classes.submit}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => {\n              UserServices.register(name, email, password , \"user\")\n                .then((data) => {\n                  console.log(data);\n                  toast.success(data, {\n                    position: \"bottom-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                  });\n                  window.location.href = \"/login\";\n                })\n                .catch((err) => {\n                  toast.error(err.response.data, {\n                    position: \"bottom-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                  });\n                });\n            }}\n          >\n            Sign Up\n          </Button>) : ( \n          \n          <Button\n          \n          id = \"save\"\n            fullWidth\n            className={classes.submit}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => {\n              UserServices.register(name, email, password , \"user\" , 100, ids)\n                .then((data) => {\n                  console.log(data);\n                  toast.success(data, {\n                    position: \"bottom-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                  });\n                  window.location.href = \"/login\";\n                })\n                .catch((err) => {\n                  toast.error(err.response.data, {\n                    position: \"bottom-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                  });\n                });\n            }}\n          >\n            Sign Up\n          </Button>) }\n\n          {/* <Button\n          \n          id = \"save\"\n            fullWidth\n            className={classes.submit}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => {\n\n                UserServices.register(name, email, password , \"user\")\n                .then((data) => {\n                  console.log(data);\n                  toast.success(data, {\n                    position: \"bottom-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                  });\n                  window.location.href = \"/login\";\n                })\n                .catch((err) => {\n                  toast.error(err.response.data, {\n                    position: \"bottom-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                  });\n                });\n               \n              }}\n          >\n            Sign Up\n          </Button> */}\n        <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/login\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n  \n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}