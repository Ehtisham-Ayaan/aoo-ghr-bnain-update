{"ast":null,"code":"'use strict';\n\nlet Discount = require('./discount').Discount;\n\nlet Gateway = require('./gateway').Gateway;\n\nlet wrapPrototype = require('@braintree/wrap-promise').wrapPrototype;\n\nclass DiscountGateway extends Gateway {\n  constructor(gateway) {\n    super();\n    this.gateway = gateway;\n    this.config = this.gateway.config;\n  }\n\n  all() {\n    return this.gateway.http.get(`${this.config.baseMerchantPath()}/discounts`).then(this.createResponseHandler('discount', Discount)).then(response => {\n      if (!response.success) {\n        return response;\n      } // NEXT_MAJOR_VERSION all the other server sdks return the collection directly, rather\n      // than a response object. For now, add the discounts and success properties to the collection\n      // for backwards compatibility. We can drop these at the next major version.\n\n\n      const collection = response.discounts;\n      collection.success = response.success;\n      collection.discounts = response.discounts;\n      return collection;\n    });\n  }\n\n}\n\nmodule.exports = {\n  DiscountGateway: wrapPrototype(DiscountGateway)\n};","map":{"version":3,"sources":["C:/Users/alpha/OneDrive/myapp/client/node_modules/braintree/lib/braintree/discount_gateway.js"],"names":["Discount","require","Gateway","wrapPrototype","DiscountGateway","constructor","gateway","config","all","http","get","baseMerchantPath","then","createResponseHandler","response","success","collection","discounts","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAP,CAAsBD,QAArC;;AACA,IAAIE,OAAO,GAAGD,OAAO,CAAC,WAAD,CAAP,CAAqBC,OAAnC;;AACA,IAAIC,aAAa,GAAGF,OAAO,CAAC,yBAAD,CAAP,CAAmCE,aAAvD;;AAEA,MAAMC,eAAN,SAA8BF,OAA9B,CAAsC;AACpCG,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB;AACA,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKC,MAAL,GAAc,KAAKD,OAAL,CAAaC,MAA3B;AACD;;AAEDC,EAAAA,GAAG,GAAG;AACJ,WAAO,KAAKF,OAAL,CAAaG,IAAb,CAAkBC,GAAlB,CAAuB,GAAE,KAAKH,MAAL,CAAYI,gBAAZ,EAA+B,YAAxD,EACJC,IADI,CACC,KAAKC,qBAAL,CAA2B,UAA3B,EAAuCb,QAAvC,CADD,EAEJY,IAFI,CAEEE,QAAD,IAAc;AAClB,UAAI,CAACA,QAAQ,CAACC,OAAd,EAAuB;AACrB,eAAOD,QAAP;AACD,OAHiB,CAKlB;AACA;AACA;;;AACA,YAAME,UAAU,GAAGF,QAAQ,CAACG,SAA5B;AAEAD,MAAAA,UAAU,CAACD,OAAX,GAAqBD,QAAQ,CAACC,OAA9B;AACAC,MAAAA,UAAU,CAACC,SAAX,GAAuBH,QAAQ,CAACG,SAAhC;AAEA,aAAOD,UAAP;AACD,KAhBI,CAAP;AAiBD;;AAzBmC;;AA4BtCE,MAAM,CAACC,OAAP,GAAiB;AAACf,EAAAA,eAAe,EAAED,aAAa,CAACC,eAAD;AAA/B,CAAjB","sourcesContent":["'use strict';\n\nlet Discount = require('./discount').Discount;\nlet Gateway = require('./gateway').Gateway;\nlet wrapPrototype = require('@braintree/wrap-promise').wrapPrototype;\n\nclass DiscountGateway extends Gateway {\n  constructor(gateway) {\n    super();\n    this.gateway = gateway;\n    this.config = this.gateway.config;\n  }\n\n  all() {\n    return this.gateway.http.get(`${this.config.baseMerchantPath()}/discounts`)\n      .then(this.createResponseHandler('discount', Discount))\n      .then((response) => {\n        if (!response.success) {\n          return response;\n        }\n\n        // NEXT_MAJOR_VERSION all the other server sdks return the collection directly, rather\n        // than a response object. For now, add the discounts and success properties to the collection\n        // for backwards compatibility. We can drop these at the next major version.\n        const collection = response.discounts;\n\n        collection.success = response.success;\n        collection.discounts = response.discounts;\n\n        return collection;\n      });\n  }\n}\n\nmodule.exports = {DiscountGateway: wrapPrototype(DiscountGateway)};\n"]},"metadata":{},"sourceType":"script"}