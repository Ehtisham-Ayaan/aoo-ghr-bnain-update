{"ast":null,"code":"import{action,setAction,elements,getElementAtPosition,mouse,selectedElement,tool,setElementWidth,setElementLength,wall,setElementStrokeWidth}from\"../sketch\";import{updateElement}from\"./updateElement\";export var handleMouseMove=function handleMouseMove(event){// const {clientX, clientY} = event;\nvar bounds=event.target.getBoundingClientRect();mouse.x=event.pageX-bounds.left-window.scrollX;// is window.scrollX same for Y\nmouse.y=event.pageY-bounds.top-window.scrollY;if(tool===\"selection\"){event.target.style.cursor=getElementAtPosition(mouse.x,mouse.y,elements)?\"move\":\"default\";}if(tool===\"text\"){event.target.style.cursor=getElementAtPosition(mouse.x,mouse.y,elements)?\"text\":\"default\";}if(tool===\"eraser\"){event.target.style.cursor=getElementAtPosition(mouse.x,mouse.y,elements)?\"move\":\"default\";}if(tool===\"resize\"){event.target.style.cursor=getElementAtPosition(mouse.x,mouse.y,elements)?\"resize\":\"default\";}// if(tool === \"rectangle\" || tool ===\"circle\" || tool ===\"wall\" || tool ===\"arcL\" ||\n//     tool ===\"arcR\" || tool ===\"ellipse\"){\n//\n//     event.target.style.cursor = getCvsAtPosition(canvas.getBoundingClientRect().width , canvas.getBoundingClientRect().height, elements)\n//         ? \"crosshair\" : \"default\";\n// }\nif(action===\"drawing\"){var index=elements.length-1;var _elements$index=elements[index],x1=_elements$index.x1,y1=_elements$index.y1;var sWidth=wall;updateElement(index,x1,y1,mouse.x,mouse.y,tool,sWidth);}else if(action===\"moving\"){var id=selectedElement.id,_x=selectedElement.x1,x2=selectedElement.x2,_y=selectedElement.y1,y2=selectedElement.y2,type=selectedElement.type,offsetX=selectedElement.offsetX,offsetY=selectedElement.offsetY;var _sWidth=selectedElement.roughElement.options.strokeWidth;var width=x2-_x;var height=y2-_y;var nexX1=mouse.x-offsetX;var nexY1=mouse.y-offsetY;// type.scale(mouse.x , mouse.y);\nupdateElement(id,nexX1,nexY1,nexX1+width,nexY1+height,type,_sWidth);}else if(action===\"eraser\"){var _id=selectedElement.id,_x2=selectedElement.x1,_x3=selectedElement.x2,_y2=selectedElement.y1,_y3=selectedElement.y2,_type=selectedElement.type,_offsetX=selectedElement.offsetX,_offsetY=selectedElement.offsetY;var _width=_x3-_x2;var _height=_y3-_y2;var _nexX=mouse.x-_offsetX;var _nexY=mouse.y-_offsetY;// type.scale(mouse.x , mouse.y);\nupdateElement(_id,_nexX,_nexY,_nexX+_width,_nexY+_height,null);}else if(action===\"resize\"){var _id2=selectedElement.id,_x4=selectedElement.x1,_x5=selectedElement.x2,_y4=selectedElement.y1,_y5=selectedElement.y2,_type2=selectedElement.type,_offsetX2=selectedElement.offsetX,_offsetY2=selectedElement.offsetY;var _sWidth2=selectedElement.roughElement.options.strokeWidth;var _width2=_x5-_x4;var _height2=_y5-_y4;var _nexX2=mouse.x-_offsetX2;var _nexY2=mouse.y-_offsetY2;alert(\"Your previous Width was \"+_width2/15.36);alert(\"Your previous length was \"+_height2/15.36);alert(\"Please Note that this will be your Internal Dimensions. We will minus walls area automatically. Thanks For your inconvenience !!!\");var newx1=prompt(\"Your previous x-axis was \"+_x4+\" Enter x-axis \");// const newx2 = prompt(\"Your previous width was \" + x2 + \" Enter x2 \")\nvar newWidth=prompt(\"Your previous width was \"+_width2/15.36+\"Feet. Enter new Width in feet \");newWidth=newWidth*15.45;// newWidth = newWidth - newx1\nvar newy1=prompt(\"Your previous y-axis was \"+_y4+\" Enter y-axis \");// const newy2 = prompt(\"Your previous y2 was \" + y2 + \" Enter y2 \")\nvar newHeight=prompt(\"Your previous height was \"+_height2/15.36+\"Feet. Enter new height in feet \");newHeight=newHeight*15.45;// newHeight = newHeight - newy1\n// type.scale(mouse.x , mouse.y);\nif(newx1&&newWidth&&newy1&&newHeight){// updateElement(id, newx1, newy1, newx2, newy2, type, sWidth);\nupdateElement(_id2,newx1,newy1,newWidth,newHeight,_type2,_sWidth2);}else{updateElement(_id2,_nexX2,_nexY2,_nexX2+_width2,_nexY2+_height2,_type2,_sWidth2);}setAction(\"selection\");alert(\"Now Consider clicking on selection tool and then the line which is shown to draw your re - factor sketch and think to move your cursor slightly\");}else if(action===\"sizes\"){var _id3=selectedElement.id,_x6=selectedElement.x1,_x7=selectedElement.x2,_y6=selectedElement.y1,_y7=selectedElement.y2,_type3=selectedElement.type,_offsetX3=selectedElement.offsetX,_offsetY3=selectedElement.offsetY,strokeWidth=selectedElement.strokeWidth;var _width3=_x7-_x6;var _height3=_y7-_y6;var _nexX3=mouse.x-_offsetX3;var _nexY3=mouse.y-_offsetY3;// type.scale(mouse.x , mouse.y);\nsetElementWidth(_width3);setElementLength(_height3);// console.log(selectedElement)\nsetElementStrokeWidth(selectedElement.roughElement.options.strokeWidth);}};","map":{"version":3,"sources":["F:/Aoo-Ghr-Bnain-Client/src/sketchHelper/handleMouseMove.js"],"names":["action","setAction","elements","getElementAtPosition","mouse","selectedElement","tool","setElementWidth","setElementLength","wall","setElementStrokeWidth","updateElement","handleMouseMove","event","bounds","target","getBoundingClientRect","x","pageX","left","window","scrollX","y","pageY","top","scrollY","style","cursor","index","length","x1","y1","sWidth","id","x2","y2","type","offsetX","offsetY","roughElement","options","strokeWidth","width","height","nexX1","nexY1","alert","newx1","prompt","newWidth","newy1","newHeight"],"mappings":"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","sourcesContent":["import {action, \n        setAction ,\n        elements, \n        getElementAtPosition, \n        mouse, \n        selectedElement, \n        tool,\n        setElementWidth , \n        setElementLength ,\n        wall,\n        setElementStrokeWidth } from \"../sketch\";\nimport {updateElement} from \"./updateElement\";\n\nexport const handleMouseMove = (event) => {\n    // const {clientX, clientY} = event;\n\n    let bounds = event.target.getBoundingClientRect();\n    mouse.x = event.pageX - bounds.left - window.scrollX;  // is window.scrollX same for Y\n    mouse.y = event.pageY - bounds.top - window.scrollY;\n\n    if(tool === \"selection\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"move\" : \"default\";\n    }\n\n    if(tool === \"text\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"text\" : \"default\";\n    }\n\n    if(tool === \"eraser\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"move\" : \"default\";\n    }\n    if(tool === \"resize\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"resize\" : \"default\";\n    }\n    // if(tool === \"rectangle\" || tool ===\"circle\" || tool ===\"wall\" || tool ===\"arcL\" ||\n    //     tool ===\"arcR\" || tool ===\"ellipse\"){\n    //\n    //     event.target.style.cursor = getCvsAtPosition(canvas.getBoundingClientRect().width , canvas.getBoundingClientRect().height, elements)\n    //         ? \"crosshair\" : \"default\";\n    // }\n\n    if(action === \"drawing\") {\n        const index = elements.length - 1;\n        const {x1,y1} = elements[index];\n        const sWidth = wall\n        updateElement(index, x1 , y1 , mouse.x, mouse.y , tool , sWidth);\n\n    }\n    else if (action === \"moving\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const sWidth = selectedElement.roughElement.options.strokeWidth\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, type , sWidth);\n        \n    }\n    else if (action === \"eraser\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, null);\n    }\n\n    else if (action === \"resize\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const sWidth = selectedElement.roughElement.options.strokeWidth\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        alert(\"Your previous Width was \" + width / 15.36)\n\n        alert(\"Your previous length was \" + height / 15.36)\n        \n        alert(\"Please Note that this will be your Internal Dimensions. We will minus walls area automatically. Thanks For your inconvenience !!!\")\n\n        const newx1 = prompt(\"Your previous x-axis was \" + x1 + \" Enter x-axis \")\n        // const newx2 = prompt(\"Your previous width was \" + x2 + \" Enter x2 \")\n        let newWidth = prompt(\"Your previous width was \" + width / 15.36 + \"Feet. Enter new Width in feet \")\n        newWidth = newWidth * 15.45\n        // newWidth = newWidth - newx1\n        \n        const newy1 = prompt(\"Your previous y-axis was \" + y1 + \" Enter y-axis \")\n        // const newy2 = prompt(\"Your previous y2 was \" + y2 + \" Enter y2 \")\n        let newHeight = prompt(\"Your previous height was \" + height / 15.36 + \"Feet. Enter new height in feet \")\n        newHeight = newHeight * 15.45\n        // newHeight = newHeight - newy1\n       \n        // type.scale(mouse.x , mouse.y);\n\n        if(newx1 && newWidth && newy1 && newHeight)\n        {\n        // updateElement(id, newx1, newy1, newx2, newy2, type, sWidth);\n        updateElement(id, newx1, newy1, newWidth , newHeight, type, sWidth);\n\n        }\n        else{\n            updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, type, sWidth);\n        }\n        setAction(\"selection\")\n\n        alert(\"Now Consider clicking on selection tool and then the line which is shown to draw your re - factor sketch and think to move your cursor slightly\")\n    }\n\n    else if (action === \"sizes\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY, strokeWidth} = selectedElement;\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        setElementWidth(width);\n        setElementLength(height); \n        \n        // console.log(selectedElement)\n        setElementStrokeWidth(selectedElement.roughElement.options.strokeWidth)\n    }\n\n};"]},"metadata":{},"sourceType":"module"}