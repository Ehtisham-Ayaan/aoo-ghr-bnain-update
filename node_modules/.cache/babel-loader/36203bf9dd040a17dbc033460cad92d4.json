{"ast":null,"code":"import _slicedToArray from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Avatar from\"@material-ui/core/Avatar\";import Box from\"@material-ui/core/Box\";import Button from\"@material-ui/core/Button\";import Checkbox from\"@material-ui/core/Checkbox\";import Container from\"@material-ui/core/Container\";import CssBaseline from\"@material-ui/core/CssBaseline\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import Grid from\"@material-ui/core/Grid\";import Link from\"@material-ui/core/Link\";import{makeStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import Typography from\"@material-ui/core/Typography\";import LockOutlinedIcon from\"@material-ui/icons/LockOutlined\";import React from\"react\";import{toast}from\"react-toastify\";import UserServices from\"../services/UserServices\";import PasswordStrengthBar from'react-password-strength-bar';import notAllowed from\"../img/not_allowed.jpg\";import onlyAdmins from\"../img/only_admins.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)}};});export default function SignUp(){var classes=useStyles();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),email=_React$useState4[0],setEmail=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[UserServices.isLoggedin?UserServices.getLoggedinfo().role===\"admin\"&&/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{autoComplete:\"name\",name:\"name\",variant:\"outlined\",required:true,fullWidth:true,id:\"firstName\",label:\"Full Name\",autoFocus:true,value:name,onChange:function onChange(e){setName(e.target.value);},onKeyPress:function onKeyPress(event){if(event.key==='Enter'){document.getElementById('save').click();}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",type:\"email\",autoComplete:\"email\",value:email,onChange:function onChange(e){setEmail(e.target.value);},onKeyPress:function onKeyPress(event){if(event.key==='Enter'){document.getElementById('save').click();}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:function onChange(e){setPassword(e.target.value);},onKeyPress:function onKeyPress(event){if(event.key==='Enter'){document.getElementById('save').click();}}})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(PasswordStrengthBar,{password:password}),/*#__PURE__*/_jsx(Button,{id:\"save\",fullWidth:true,className:classes.submit,variant:\"contained\",color:\"primary\",onClick:function onClick(e){UserServices.register(name,email,password,\"admin\").then(function(data){console.log(data);toast.success(data,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});window.location.href=\"/login\";}).catch(function(err){toast.error(err.response.data,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});});},children:\"Create Account\"})]})]})]}):\" \",UserServices.isLoggedin?UserServices.getLoggedinfo().role===\"user\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Only Admins\"}),/*#__PURE__*/_jsx(\"img\",{src:onlyAdmins,width:\"100%\",height:\"auto\",style:{marginBottom:'10%'}})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Please login first\"}),/*#__PURE__*/_jsx(\"img\",{src:notAllowed,width:\"100%\",height:\"auto\",style:{marginBottom:'10%'}})]})]});}","map":{"version":3,"sources":["F:/Aoo-Ghr-Bnain-Client/src/auth/addByAdmin.js"],"names":["Avatar","Box","Button","Checkbox","Container","CssBaseline","FormControlLabel","Grid","Link","makeStyles","TextField","Typography","LockOutlinedIcon","React","toast","UserServices","PasswordStrengthBar","notAllowed","onlyAdmins","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignUp","classes","useState","name","setName","email","setEmail","password","setPassword","isLoggedin","getLoggedinfo","role","e","target","value","event","key","document","getElementById","click","register","then","data","console","log","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","window","location","href","catch","err","error","response","marginBottom"],"mappings":"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","sourcesContent":["import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport UserServices from \"../services/UserServices\";\r\nimport PasswordStrengthBar from 'react-password-strength-bar';\r\nimport notAllowed from \"../img/not_allowed.jpg\"\r\nimport onlyAdmins from \"../img/only_admins.jpg\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const [name, setName] = React.useState(\"\");\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  return (\r\n    <>\r\n    {UserServices.isLoggedin\r\n                       ? UserServices.getLoggedinfo().role === \"admin\" && (\r\n    \r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n        Create Account\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                autoComplete=\"name\"\r\n                name=\"name\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"Full Name\"\r\n                autoFocus\r\n                value={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                onKeyPress={event => {\r\n                  if (event.key === 'Enter') {\r\n                document.getElementById('save').click();\r\n                  }\r\n              }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n                onKeyPress={event => {\r\n                  if (event.key === 'Enter') {\r\n                document.getElementById('save').click();\r\n                  }\r\n              }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                value={password}\r\n                onChange={(e) => {\r\n                  setPassword(e.target.value);\r\n\r\n                  \r\n                }}\r\n                onKeyPress={event => {\r\n                  if (event.key === 'Enter') {\r\n                document.getElementById('save').click();\r\n                  }\r\n              }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n                  <br></br>\r\n          <PasswordStrengthBar password={password} />\r\n\r\n          <Button\r\n          id = \"save\"\r\n            fullWidth\r\n            className={classes.submit}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(e) => {\r\n              UserServices.register(name, email, password , \"admin\")\r\n                .then((data) => {\r\n                  console.log(data);\r\n                  toast.success(data, {\r\n                    position: \"bottom-right\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                  });\r\n                  window.location.href = \"/login\";\r\n                })\r\n                .catch((err) => {\r\n                  toast.error(err.response.data, {\r\n                    position: \"bottom-right\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                  });\r\n                });\r\n            }}\r\n          >\r\n            Create Account\r\n          </Button>\r\n          \r\n        </form>\r\n      </div>\r\n      \r\n    </Container>\r\n\r\n)\r\n: \" \"}\r\n{UserServices.isLoggedin ? UserServices.getLoggedinfo().role === \"user\" && (\r\n   \r\n   <div className=\"container\">\r\n   <h1>Only Admins</h1>\r\n    <img src={onlyAdmins} width=\"100%\" height = \"auto\" style ={{marginBottom : '10%'}}/>\r\n    </div>\r\n) : (\r\n<div className=\"container\"> \r\n<h1>Please login first</h1>\r\n<img src={notAllowed} width=\"100%\" height = \"auto\" style = {{ marginBottom : '10%'}}/>\r\n</div>\r\n)}\r\n</>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}