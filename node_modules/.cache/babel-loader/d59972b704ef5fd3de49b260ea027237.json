{"ast":null,"code":"import _classCallCheck from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/createSuper\";import GenericServices from\"./GenericServices\";import jwt_decode from\"jwt-decode\";var userServices=/*#__PURE__*/function(_GenericServices){_inherits(userServices,_GenericServices);var _super=_createSuper(userServices);function userServices(){var _this;_classCallCheck(this,userServices);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.login=function(userName,password){return new Promise(function(resolve,reject){console.log(userName,password);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/auth\",{userName:userName,password:password}).then(function(token){localStorage.setItem(\"token\",token);resolve(token);}).catch(function(err){reject(err);});});};_this.register=function(username,email,password,role,amount,ids){return new Promise(function(resolve,reject){console.log(amount);console.log(ids);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/register\",{username:username,email:email,password:password,role:role,amount:amount,ids:ids}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.handleToken=function(token){return new Promise(function(resolve,reject){console.log(token);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/mycheckout\",{token:token}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.contact=function(username,email,query){return new Promise(function(resolve,reject){console.log(username);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/contact\",{username:username,email:email,query:query}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.save=function(name,elements,width,height,totalLayer,id){return new Promise(function(resolve,reject){var data=JSON.stringify(elements);console.log(width);console.log(height);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/save\",{name:name,data:data,width:width,height:height,totalLayer:totalLayer,id:id}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.change=function(sub,role){return new Promise(function(resolve,reject){console.log(role);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/change\",{sub:sub,role:role}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.updatePass=function(email,password,role){return new Promise(function(resolve,reject){console.log(email);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/updatePass\",{email:email,password:password,role:role}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.getSketch=function(id){return new Promise(function(resolve,reject){console.log(id);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/getSketch\",{id:id}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.delSketch=function(id){return new Promise(function(resolve,reject){console.log(id);_this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/delSketch\",{id:id}).then(function(res){resolve(res);}).catch(function(err){reject(err);});});};_this.isLoggedin=localStorage.getItem(\"token\")?true:false;_this.logout=function(){localStorage.removeItem(\"token\");localStorage.removeItem(\"token2\");window.location.href=\"/\";};_this.getLoggedinfo=function(){try{var jwt=localStorage.getItem(\"token\");var decode=jwt_decode(jwt);return decode;}catch(error){console.log(\"error\");}};_this.isAdmin=function(){if(_this.isLoggedIn){if(_this.getLoggedinfo().role===\"admin\")return true;else return false;}else return false;};return _this;}return userServices;}(GenericServices);var UserServices=new userServices();export default UserServices;","map":{"version":3,"sources":["F:/Aoo-Ghr-Bnain-Client/src/services/UserServices.js"],"names":["GenericServices","jwt_decode","userServices","login","userName","password","Promise","resolve","reject","console","log","post","then","token","localStorage","setItem","catch","err","register","username","email","role","amount","ids","res","handleToken","contact","query","save","name","elements","width","height","totalLayer","id","data","JSON","stringify","change","sub","updatePass","getSketch","delSketch","isLoggedin","getItem","logout","removeItem","window","location","href","getLoggedinfo","jwt","decode","error","isAdmin","isLoggedIn","UserServices"],"mappings":"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","sourcesContent":["import GenericServices from \"./GenericServices\";\nimport jwt_decode from \"jwt-decode\";\nclass userServices extends GenericServices {\n\n\n\n  login = (userName, password) =>\n\n    new Promise((resolve, reject) => {\n\n      console.log(userName , password);\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/auth\", { userName, password })\n        .then((token) => {\n          localStorage.setItem(\"token\", token);\n          resolve(token);\n         \n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n  register = (username, email, password , role , amount, ids) =>\n    new Promise((resolve, reject) => {\n\n\n      console.log(amount)\n      console.log(ids)\n\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/register\", { username, email, password , role , amount, ids })\n        .then((res) => {\n          resolve(res);\n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    handleToken = (token) =>\n    new Promise((resolve, reject) => {\n\n\n      console.log(token)\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/mycheckout\", { token })\n        .then((res) => {\n          resolve(res);\n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    contact = (username, email, query) =>\n    new Promise((resolve, reject) => {\n\n\n      console.log(username)\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/contact\", { username, email, query })\n        .then((res) => {\n          resolve(res);\n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    save = (name , elements ,width , height, totalLayer , id) =>\n    new Promise((resolve, reject) => {\n\n      var data = JSON.stringify(elements);\n\n      console.log(width)\n\n      console.log(height)\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/save\", { name , data ,width , height,totalLayer, id })\n        .then((res) => {\n          resolve(res);\n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    change = (sub , role) =>\n    new Promise((resolve, reject) => {\n\n      console.log(role)\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/change\", { sub , role })\n        .then((res) => {\n          resolve(res);\n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    updatePass = (email, password, role) =>\n    new Promise((resolve, reject) => {\n\n      console.log(email)\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/updatePass\", { email, password , role })\n        .then((res) => {\n          resolve(res);\n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    \n\n    getSketch = (id) =>\n    new Promise((resolve, reject) => {\n\n      console.log(id)\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/getSketch\", { id })\n        .then((res) => {\n          resolve(res);\n        \n          \n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    delSketch = (id) =>\n    new Promise((resolve, reject) => {\n\n      console.log(id)\n\n      this.post(\"https://aoo-ghr-bnain-fyp.herokuapp.com/delSketch\", { id })\n        .then((res) => {\n          resolve(res);\n        \n          \n        })  \n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    isLoggedin = localStorage.getItem(\"token\") ? true : false;\n\n  logout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"token2\");\n    window.location.href = \"/\";\n  };\n\n  getLoggedinfo = () => {\n    try {\n      let jwt = localStorage.getItem(\"token\");\n      var decode = jwt_decode(jwt);\n      return decode;\n    } catch (error) {\n      console.log(\"error\");\n    }\n  };\n\n  \n  isAdmin = () => {\n    if (this.isLoggedIn) {\n      if (this.getLoggedinfo().role === \"admin\") return true;\n      else return false;\n    } else return false;\n  };\n}\n\nlet UserServices = new userServices();\nexport default UserServices;\n"]},"metadata":{},"sourceType":"module"}