{"ast":null,"code":"import { action, elements, getElementAtPosition, mouse, selectedElement, tool } from \"./sketch\";\nimport { updateElement } from \"./updateElement\";\nexport const handleMouseMove = event => {\n  // const {clientX, clientY} = event;\n  let bounds = event.target.getBoundingClientRect();\n  mouse.x = event.pageX - bounds.left - window.scrollX; // is window.scrollX same for Y\n\n  mouse.y = event.pageY - bounds.top - window.scrollY;\n\n  if (tool === \"selection\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"move\" : \"default\";\n  }\n\n  if (tool === \"text\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"text\" : \"default\";\n  }\n\n  if (tool === \"eraser\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"move\" : \"default\";\n  }\n\n  if (tool === \"resize\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"resize\" : \"default\";\n  } // if(tool === \"rectangle\" || tool ===\"circle\" || tool ===\"wall\" || tool ===\"arcL\" ||\n  //     tool ===\"arcR\" || tool ===\"ellipse\"){\n  //\n  //     event.target.style.cursor = getCvsAtPosition(canvas.getBoundingClientRect().width , canvas.getBoundingClientRect().height, elements)\n  //         ? \"crosshair\" : \"default\";\n  // }\n\n\n  if (action === \"drawing\") {\n    const index = elements.length - 1;\n    const {\n      x1,\n      y1\n    } = elements[index];\n    updateElement(index, x1, y1, mouse.x, mouse.y, tool);\n  } else if (action === \"moving\") {\n    const {\n      id,\n      x1,\n      x2,\n      y1,\n      y2,\n      type,\n      offsetX,\n      offsetY\n    } = selectedElement;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    const nexX1 = mouse.x - offsetX;\n    const nexY1 = mouse.y - offsetY; // type.scale(mouse.x , mouse.y);\n\n    updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, type);\n  } else if (action === \"eraser\") {\n    const {\n      id,\n      x1,\n      x2,\n      y1,\n      y2,\n      type,\n      offsetX,\n      offsetY\n    } = selectedElement;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    const nexX1 = mouse.x - offsetX;\n    const nexY1 = mouse.y - offsetY; // type.scale(mouse.x , mouse.y);\n\n    updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, null);\n  }\n};","map":{"version":3,"sources":["/home/ehtisham/MyApp/myapp/client/src/sketchHelper/handleMouseMove.js"],"names":["action","elements","getElementAtPosition","mouse","selectedElement","tool","updateElement","handleMouseMove","event","bounds","target","getBoundingClientRect","x","pageX","left","window","scrollX","y","pageY","top","scrollY","style","cursor","index","length","x1","y1","id","x2","y2","type","offsetX","offsetY","width","height","nexX1","nexY1"],"mappings":"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","sourcesContent":["import {action, elements, getElementAtPosition, mouse, selectedElement, tool} from \"./sketch\";\nimport {updateElement} from \"./updateElement\";\n\nexport const handleMouseMove = (event) => {\n    // const {clientX, clientY} = event;\n\n    let bounds = event.target.getBoundingClientRect();\n    mouse.x = event.pageX - bounds.left - window.scrollX;  // is window.scrollX same for Y\n    mouse.y = event.pageY - bounds.top - window.scrollY;\n\n    if(tool === \"selection\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"move\" : \"default\";\n    }\n\n    if(tool === \"text\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"text\" : \"default\";\n    }\n\n    if(tool === \"eraser\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"move\" : \"default\";\n    }\n    if(tool === \"resize\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"resize\" : \"default\";\n    }\n    // if(tool === \"rectangle\" || tool ===\"circle\" || tool ===\"wall\" || tool ===\"arcL\" ||\n    //     tool ===\"arcR\" || tool ===\"ellipse\"){\n    //\n    //     event.target.style.cursor = getCvsAtPosition(canvas.getBoundingClientRect().width , canvas.getBoundingClientRect().height, elements)\n    //         ? \"crosshair\" : \"default\";\n    // }\n\n    if(action === \"drawing\") {\n        const index = elements.length - 1;\n        const {x1,y1} = elements[index];\n        updateElement(index, x1 , y1 , mouse.x, mouse.y , tool);\n\n    }\n    else if (action === \"moving\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, type);\n    }\n    else if (action === \"eraser\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, null);\n    }\n\n};"]},"metadata":{},"sourceType":"module"}