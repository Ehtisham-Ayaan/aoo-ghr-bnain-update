{"ast":null,"code":"import { mouse, myArr, setMyArr, elements, setElements, getElementAtPosition, setAction, selectedElement, setSelectedElement, tool } from \"../sketch\";\nimport { createElement } from \"./createElement\";\nexport const handleMouseDown = event => {\n  // const { clientX , clientY} = event;\n  if (tool === \"selection\") {\n    const element = getElementAtPosition(mouse.x, mouse.y, elements);\n\n    if (element) {\n      const posX = mouse.x || event.touches[0].clientX - 8;\n      const posY = mouse.y || event.touches[0].clientY - 385;\n      const offsetX = posX - element.x1;\n      const offsetY = posY - element.y1;\n      setSelectedElement({ ...element,\n        offsetX,\n        offsetY\n      });\n      setAction(\"moving\");\n    }\n  } else if (tool === \"eraser\") {\n    const element = getElementAtPosition(mouse.x, mouse.y, elements);\n\n    if (element) {\n      const offsetX = mouse.x - element.x1;\n      const offsetY = mouse.y - element.y1;\n      setSelectedElement({ ...element,\n        offsetX,\n        offsetY\n      });\n      setAction(\"eraser\");\n    }\n  } else if (tool === \"text\") {\n    const element = getElementAtPosition(mouse.x, mouse.y, elements);\n\n    if (element) {\n      const offsetX = mouse.x - element.x1;\n      const offsetY = mouse.y - element.y1;\n      setSelectedElement({ ...element,\n        offsetX,\n        offsetY\n      });\n      setAction(\"text\");\n    }\n  } else if (tool === \"resize\") {\n    const element = getElementAtPosition(mouse.x, mouse.y, elements);\n\n    if (element) {\n      const offsetX = mouse.x - element.x1;\n      const offsetY = mouse.y - element.y1;\n      setSelectedElement({ ...element,\n        offsetX,\n        offsetY\n      });\n      setAction(\"resize\");\n    }\n  } else if (tool === \"sizes\") {\n    const element = getElementAtPosition(mouse.x, mouse.y, elements);\n\n    if (element) {\n      const offsetX = mouse.x - element.x1;\n      const offsetY = mouse.y - element.y1;\n      setSelectedElement({ ...element,\n        offsetX,\n        offsetY\n      });\n      setAction(\"sizes\");\n    }\n  } else {\n    setAction(\"drawing\"); // const {clientX, clientY} = event;\n\n    const id = elements.length;\n    console.log(event.target);\n\n    if (event.type === \"mousedown\") {\n      const clientX = mouse.x;\n      const clientY = mouse.y;\n      console.log(clientX, clientY);\n      const {\n        offsetLeft,\n        offsetTop\n      } = event.target;\n      const canvasX = clientX - offsetLeft;\n      const canvasY = clientY - offsetTop;\n      const element = createElement(id, clientX, clientY, clientX, clientY, tool);\n      setElements(prevState => [...prevState, element]);\n    } else {\n      let clientX = event.touches[0].clientX;\n      let clientY = event.touches[0].clientY;\n      clientX = clientX - 8;\n      clientY = clientY - 385;\n      console.log(clientX, clientY);\n      const {\n        offsetLeft,\n        offsetTop\n      } = event.target;\n      const canvasX = clientX - offsetLeft;\n      const canvasY = clientY - offsetTop;\n      const element = createElement(id, clientX, clientY, clientX, clientY, tool);\n      setElements(prevState => [...prevState, element]);\n    }\n  }\n};","map":{"version":3,"sources":["E:/aoo-ghr-bnain-update/src/sketchHelper/handleMouseDown.js"],"names":["mouse","myArr","setMyArr","elements","setElements","getElementAtPosition","setAction","selectedElement","setSelectedElement","tool","createElement","handleMouseDown","event","element","x","y","posX","touches","clientX","posY","clientY","offsetX","x1","offsetY","y1","id","length","console","log","target","type","offsetLeft","offsetTop","canvasX","canvasY","prevState"],"mappings":"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","sourcesContent":["import {    mouse ,\r\n            myArr ,\r\n            setMyArr , \r\n            elements , \r\n            setElements ,\r\n            getElementAtPosition , \r\n            setAction , \r\n            selectedElement,\r\n            setSelectedElement, \r\n            tool } \r\n        \r\n            from \"../sketch\";\r\n\r\n\r\nimport {createElement} from \"./createElement\";\r\n\r\nexport const handleMouseDown = (event) => {\r\n    // const { clientX , clientY} = event;\r\n    if (tool === \"selection\") {\r\n        const element = getElementAtPosition(mouse.x, mouse.y, elements);\r\n        if(element)\r\n        {\r\n             const posX = mouse.x || (event.touches[0].clientX - 8 )\r\n            const posY = mouse.y || (event.touches[0].clientY - 385)\r\n            const offsetX = posX - element.x1 ;\r\n            const offsetY = posY - element.y1 ;\r\n\r\n            setSelectedElement({...element,offsetX,offsetY});\r\n            setAction(\"moving\");\r\n        }\r\n\r\n    }\r\n    else if(tool === \"eraser\")\r\n    {\r\n        const element = getElementAtPosition(mouse.x, mouse.y, elements);\r\n        if(element)\r\n        {\r\n            const offsetX = mouse.x - element.x1 ;\r\n            const offsetY = mouse.y - element.y1 ;\r\n            setSelectedElement({...element,offsetX,offsetY});\r\n            setAction(\"eraser\");\r\n        }\r\n    }\r\n\r\n    else if(tool === \"text\")\r\n    {\r\n        const element = getElementAtPosition(mouse.x, mouse.y, elements);\r\n        if(element)\r\n        {\r\n            const offsetX = mouse.x - element.x1 ;\r\n            const offsetY = mouse.y - element.y1 ;\r\n            setSelectedElement({...element,offsetX,offsetY});\r\n            setAction(\"text\");\r\n        }\r\n    }\r\n    else if(tool === \"resize\")\r\n    {\r\n        const element = getElementAtPosition(mouse.x, mouse.y, elements);\r\n        if(element)\r\n        {\r\n            const offsetX = mouse.x - element.x1 ;\r\n            const offsetY = mouse.y - element.y1 ;\r\n            setSelectedElement({...element,offsetX,offsetY});\r\n            setAction(\"resize\");\r\n        }\r\n    }\r\n\r\n    else if(tool === \"sizes\")\r\n    {\r\n        const element = getElementAtPosition(mouse.x, mouse.y, elements);\r\n        if(element)\r\n        {\r\n            const offsetX = mouse.x - element.x1 ;\r\n            const offsetY = mouse.y - element.y1 ;\r\n            setSelectedElement({...element,offsetX,offsetY});\r\n\r\n            setAction(\"sizes\")\r\n        }\r\n    }\r\n\r\n    else {\r\n       setAction(\"drawing\");\r\n        // const {clientX, clientY} = event;\r\n        const id = elements.length;\r\n\r\n        console.log(event.target);\r\n\r\n        if(event.type === \"mousedown\")\r\n        {\r\n        const clientX = mouse.x; \r\n        const clientY = mouse.y; \r\n\r\n        console.log(clientX, clientY);\r\n\r\n        const { offsetLeft, offsetTop } = event.target;\r\n        const canvasX = clientX - offsetLeft;\r\n        const canvasY = clientY - offsetTop;\r\n\r\n        const element =  createElement(id, clientX , clientY, clientX, clientY, tool);\r\n\r\n        setElements(prevState => [...prevState, element]);\r\n        }\r\n        else{\r\n        let clientX = event.touches[0].clientX; \r\n        let clientY = event.touches[0].clientY; \r\n\r\n            clientX = clientX - 8 ;\r\n            clientY = clientY - 385 ;\r\n\r\n        console.log(clientX, clientY)\r\n\r\n        const { offsetLeft, offsetTop } = event.target;\r\n        const canvasX = clientX - offsetLeft;\r\n        const canvasY = clientY - offsetTop;\r\n\r\n        const element =  createElement(id, clientX , clientY, clientX, clientY, tool);\r\n\r\n        setElements(prevState => [...prevState, element]);\r\n        }\r\n\r\n\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}