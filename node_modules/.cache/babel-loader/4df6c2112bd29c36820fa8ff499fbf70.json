{"ast":null,"code":"import { action, elements, getElementAtPosition, mouse, selectedElement, tool, setElementWidth, setElementLength } from \"../sketch\";\nimport { updateElement } from \"./updateElement\";\nexport const handleMouseMove = event => {\n  // const {clientX, clientY} = event;\n  let bounds = event.target.getBoundingClientRect();\n  mouse.x = event.pageX - bounds.left - window.scrollX; // is window.scrollX same for Y\n\n  mouse.y = event.pageY - bounds.top - window.scrollY;\n\n  if (tool === \"selection\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"move\" : \"default\";\n  }\n\n  if (tool === \"text\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"text\" : \"default\";\n  }\n\n  if (tool === \"eraser\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"move\" : \"default\";\n  }\n\n  if (tool === \"resize\") {\n    event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements) ? \"resize\" : \"default\";\n  } // if(tool === \"rectangle\" || tool ===\"circle\" || tool ===\"wall\" || tool ===\"arcL\" ||\n  //     tool ===\"arcR\" || tool ===\"ellipse\"){\n  //\n  //     event.target.style.cursor = getCvsAtPosition(canvas.getBoundingClientRect().width , canvas.getBoundingClientRect().height, elements)\n  //         ? \"crosshair\" : \"default\";\n  // }\n\n\n  if (action === \"drawing\") {\n    const index = elements.length - 1;\n    const {\n      x1,\n      y1\n    } = elements[index];\n    updateElement(index, x1, y1, mouse.x, mouse.y, tool);\n  } else if (action === \"moving\") {\n    const {\n      id,\n      x1,\n      x2,\n      y1,\n      y2,\n      type,\n      offsetX,\n      offsetY\n    } = selectedElement;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    const nexX1 = mouse.x - offsetX;\n    const nexY1 = mouse.y - offsetY; // type.scale(mouse.x , mouse.y);\n\n    updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, type);\n  } else if (action === \"eraser\") {\n    const {\n      id,\n      x1,\n      x2,\n      y1,\n      y2,\n      type,\n      offsetX,\n      offsetY\n    } = selectedElement;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    const nexX1 = mouse.x - offsetX;\n    const nexY1 = mouse.y - offsetY; // type.scale(mouse.x , mouse.y);\n\n    updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, null);\n  } else if (action === \"sizes\") {\n    const {\n      id,\n      x1,\n      x2,\n      y1,\n      y2,\n      type,\n      offsetX,\n      offsetY\n    } = selectedElement;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    const nexX1 = mouse.x - offsetX;\n    const nexY1 = mouse.y - offsetY; // type.scale(mouse.x , mouse.y);\n\n    setElementWidth(width);\n    setElementLength(height);\n  }\n};","map":{"version":3,"sources":["F:/myapp/client/src/sketchHelper/handleMouseMove.js"],"names":["action","elements","getElementAtPosition","mouse","selectedElement","tool","setElementWidth","setElementLength","updateElement","handleMouseMove","event","bounds","target","getBoundingClientRect","x","pageX","left","window","scrollX","y","pageY","top","scrollY","style","cursor","index","length","x1","y1","id","x2","y2","type","offsetX","offsetY","width","height","nexX1","nexY1"],"mappings":"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","sourcesContent":["import {action, \n        elements, \n        getElementAtPosition, \n        mouse, \n        selectedElement, \n        tool, setElementWidth , setElementLength} from \"../sketch\";\nimport {updateElement} from \"./updateElement\";\n\nexport const handleMouseMove = (event) => {\n    // const {clientX, clientY} = event;\n\n    let bounds = event.target.getBoundingClientRect();\n    mouse.x = event.pageX - bounds.left - window.scrollX;  // is window.scrollX same for Y\n    mouse.y = event.pageY - bounds.top - window.scrollY;\n\n    if(tool === \"selection\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"move\" : \"default\";\n    }\n\n    if(tool === \"text\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"text\" : \"default\";\n    }\n\n    if(tool === \"eraser\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"move\" : \"default\";\n    }\n    if(tool === \"resize\")\n    {\n        event.target.style.cursor = getElementAtPosition(mouse.x, mouse.y, elements)\n            ? \"resize\" : \"default\";\n    }\n    // if(tool === \"rectangle\" || tool ===\"circle\" || tool ===\"wall\" || tool ===\"arcL\" ||\n    //     tool ===\"arcR\" || tool ===\"ellipse\"){\n    //\n    //     event.target.style.cursor = getCvsAtPosition(canvas.getBoundingClientRect().width , canvas.getBoundingClientRect().height, elements)\n    //         ? \"crosshair\" : \"default\";\n    // }\n\n    if(action === \"drawing\") {\n        const index = elements.length - 1;\n        const {x1,y1} = elements[index];\n        updateElement(index, x1 , y1 , mouse.x, mouse.y , tool);\n\n    }\n    else if (action === \"moving\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, type);\n    }\n    else if (action === \"eraser\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        updateElement(id, nexX1, nexY1, nexX1 + width, nexY1 + height, null);\n    }\n\n    else if (action === \"sizes\")\n    {\n        const {id , x1, x2, y1, y2 , type , offsetX, offsetY} = selectedElement;\n        const width = x2-x1;\n        const height = y2-y1;\n        const nexX1 = mouse.x- offsetX;\n        const nexY1 = mouse.y - offsetY;\n\n        // type.scale(mouse.x , mouse.y);\n\n        setElementWidth(width);\n        setElementLength(height);\n    }\n\n};"]},"metadata":{},"sourceType":"module"}