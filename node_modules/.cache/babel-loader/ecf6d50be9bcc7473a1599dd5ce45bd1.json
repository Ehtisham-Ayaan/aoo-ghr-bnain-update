{"ast":null,"code":"import _slicedToArray from \"F:/Aoo-Ghr-Bnain-Client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport matchMedia from 'matchmediaquery';\nimport hyphenate from 'hyphenate-style-name';\nimport areObjectsEqual from 'shallow-equal/objects';\nimport toQuery from './toQuery';\nimport Context from './Context';\n\nvar makeQuery = function makeQuery(settings) {\n  return settings.query || toQuery(settings);\n};\n\nvar hyphenateKeys = function hyphenateKeys(obj) {\n  if (!obj) return null;\n  var keys = Object.keys(obj);\n  if (keys.length === 0) return null;\n  return keys.reduce(function (result, key) {\n    result[hyphenate(key)] = obj[key];\n    return result;\n  }, {});\n};\n\nvar useIsUpdate = function useIsUpdate() {\n  var ref = React.useRef(false);\n  React.useEffect(function () {\n    ref.current = true;\n  }, []);\n  return ref.current;\n};\n\nvar useDevice = function useDevice(deviceFromProps) {\n  var deviceFromContext = React.useContext(Context);\n\n  var getDevice = function getDevice() {\n    return hyphenateKeys(deviceFromProps) || hyphenateKeys(deviceFromContext);\n  };\n\n  var _React$useState = React.useState(getDevice),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      device = _React$useState2[0],\n      setDevice = _React$useState2[1];\n\n  React.useEffect(function () {\n    var newDevice = getDevice();\n\n    if (!areObjectsEqual(device, newDevice)) {\n      setDevice(newDevice);\n    }\n  }, [deviceFromProps, deviceFromContext]);\n  return device;\n};\n\nvar useQuery = function useQuery(settings) {\n  var getQuery = function getQuery() {\n    return makeQuery(settings);\n  };\n\n  var _React$useState3 = React.useState(getQuery),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      query = _React$useState4[0],\n      setQuery = _React$useState4[1];\n\n  React.useEffect(function () {\n    var newQuery = getQuery();\n\n    if (query !== newQuery) {\n      setQuery(newQuery);\n    }\n  }, [settings]);\n  return query;\n};\n\nvar useMatchMedia = function useMatchMedia(query, device) {\n  var getMatchMedia = function getMatchMedia() {\n    return matchMedia(query, device || {}, !!device);\n  };\n\n  var _React$useState5 = React.useState(getMatchMedia),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      mq = _React$useState6[0],\n      setMq = _React$useState6[1];\n\n  var isUpdate = useIsUpdate();\n  React.useEffect(function () {\n    if (isUpdate) {\n      // skip on mounting, it has already been set\n      setMq(getMatchMedia());\n    }\n\n    return function () {\n      mq.dispose();\n    };\n  }, [query, device]);\n  return mq;\n};\n\nvar useMatches = function useMatches(mediaQuery) {\n  var _React$useState7 = React.useState(mediaQuery.matches),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      matches = _React$useState8[0],\n      setMatches = _React$useState8[1];\n\n  React.useEffect(function () {\n    var updateMatches = function updateMatches() {\n      setMatches(mediaQuery.matches);\n    };\n\n    mediaQuery.addListener(updateMatches);\n    updateMatches();\n    return function () {\n      mediaQuery.removeListener(updateMatches);\n    };\n  }, [mediaQuery]);\n  return matches;\n};\n\nvar useMediaQuery = function useMediaQuery(settings, device, onChange) {\n  var deviceSettings = useDevice(device);\n  var query = useQuery(settings);\n  if (!query) throw new Error('Invalid or missing MediaQuery!');\n  var mq = useMatchMedia(query, deviceSettings);\n  var matches = useMatches(mq);\n  var isUpdate = useIsUpdate();\n  React.useEffect(function () {\n    if (isUpdate && onChange) {\n      onChange(matches);\n    }\n  }, [matches]);\n  return matches;\n};\n\nexport default useMediaQuery;","map":{"version":3,"sources":["F:/Aoo-Ghr-Bnain-Client/node_modules/react-responsive/src/useMediaQuery.js"],"names":["React","matchMedia","hyphenate","areObjectsEqual","toQuery","Context","makeQuery","settings","query","hyphenateKeys","obj","keys","Object","length","reduce","result","key","useIsUpdate","ref","useRef","useEffect","current","useDevice","deviceFromProps","deviceFromContext","useContext","getDevice","useState","device","setDevice","newDevice","useQuery","getQuery","setQuery","newQuery","useMatchMedia","getMatchMedia","mq","setMq","isUpdate","dispose","useMatches","mediaQuery","matches","setMatches","updateMatches","addListener","removeListener","useMediaQuery","onChange","deviceSettings","Error"],"mappings":"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","sourcesContent":["import React from 'react'\nimport matchMedia from 'matchmediaquery'\nimport hyphenate from 'hyphenate-style-name'\nimport areObjectsEqual from 'shallow-equal/objects'\nimport toQuery from './toQuery'\nimport Context from './Context'\n\nconst makeQuery = (settings) => settings.query || toQuery(settings)\n\nconst hyphenateKeys = (obj) => {\n  if (!obj) return null\n  const keys = Object.keys(obj)\n  if (keys.length === 0) return null\n  return keys.reduce((result, key) => {\n    result[hyphenate(key)] = obj[key]\n    return result\n  }, {})\n}\n\nconst useIsUpdate = () => {\n  const ref = React.useRef(false)\n\n  React.useEffect(() => {\n    ref.current = true\n  }, [])\n\n  return ref.current\n}\n\nconst useDevice = (deviceFromProps) => {\n  const deviceFromContext = React.useContext(Context)\n  const getDevice = () =>\n    hyphenateKeys(deviceFromProps) || hyphenateKeys(deviceFromContext)\n  const [ device, setDevice ] = React.useState(getDevice)\n\n  React.useEffect(() => {\n    const newDevice = getDevice()\n    if (!areObjectsEqual(device, newDevice)) {\n      setDevice(newDevice)\n    }\n  }, [ deviceFromProps, deviceFromContext ])\n\n  return device\n}\n\nconst useQuery = (settings) => {\n  const getQuery = () => makeQuery(settings)\n  const [ query, setQuery ] = React.useState(getQuery)\n\n  React.useEffect(() => {\n    const newQuery = getQuery()\n    if (query !== newQuery) {\n      setQuery(newQuery)\n    }\n  }, [ settings ])\n\n  return query\n}\n\nconst useMatchMedia = (query, device) => {\n  const getMatchMedia = () => matchMedia(query, device || {}, !!device)\n  const [ mq, setMq ] = React.useState(getMatchMedia)\n  const isUpdate = useIsUpdate()\n\n  React.useEffect(() => {\n    if (isUpdate) {\n      // skip on mounting, it has already been set\n      setMq(getMatchMedia())\n    }\n\n    return () => {\n      mq.dispose()\n    }\n  }, [ query, device ])\n\n  return mq\n}\n\nconst useMatches = (mediaQuery) => {\n  const [ matches, setMatches ] = React.useState(mediaQuery.matches)\n\n  React.useEffect(() => {\n    const updateMatches = () => {\n      setMatches(mediaQuery.matches)\n    }\n    mediaQuery.addListener(updateMatches)\n    updateMatches()\n\n    return () => {\n      mediaQuery.removeListener(updateMatches)\n    }\n  }, [ mediaQuery ])\n\n  return matches\n}\n\nconst useMediaQuery = (settings, device, onChange) => {\n  const deviceSettings = useDevice(device)\n  const query = useQuery(settings)\n  if (!query) throw new Error('Invalid or missing MediaQuery!')\n  const mq = useMatchMedia(query, deviceSettings)\n  const matches = useMatches(mq)\n  const isUpdate = useIsUpdate()\n\n  React.useEffect(() => {\n    if (isUpdate && onChange) {\n      onChange(matches)\n    }\n  }, [ matches ])\n\n  return matches\n}\n\nexport default useMediaQuery\n"]},"metadata":{},"sourceType":"module"}